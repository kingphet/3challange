<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CEIT CyberSecurity Member</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
</head>
<body>
  <div class="">
    <h1 class='text-3xl font-semibold text-center py-5'>CEIT CyberSecurity Member</h1>

    <table class="w-full text-sm text-left rtl:text-right text-gray-500">
      <thead class="text-sm text-gray-700 border-b bg-white border-gray-300 sticky top-0">
        <tr>
          <th scope="col" class="px-6 py-3 flex items-center">
            Name
          </th>
          <th scope="col" class="px-6 py-3">
            Email
          </th>
          <th scope="col" class="px-6 py-3">
            Age
          </th>
        </tr>
      </thead>
      <tbody id="userTable">
        <!-- Users will be dynamically inserted here -->
      </tbody>
    </table>
  </div>

  <script>
    function getUsers() {
      fetch('/api/users')
        .then(response => response.json())
        .then(data => {
          const userTable = document.getElementById('userTable');
          data.forEach((item, index) => {
            const row = document.createElement('tr');
            row.classList.add('border-b', 'border-gray-100');
            row.innerHTML = `
              <td class="px-6 py-4 flex items-center">
                <img src="${item.avatar}" alt="" class="w-12 h-12 object-cover rounded-full">
                <div class="ml-3">
                  <p class="text-gray-700 font-semibold">${item.username}</p>
                </div>
              </td>
              <td class="px-6 py-4">security@gmail.com</td>
              <td class="px-6 py-4">${item.age}</td>
            `;
            userTable.appendChild(row);
          });
        })
        .catch(error => {
          console.error('Error fetching users:', error);
        });
    }

    getUsers();
  </script>
</body>
</html>
